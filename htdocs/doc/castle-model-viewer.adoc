# Castle Model Viewer
include::common.adoc[]
:description: Viewer for 3D and 2D model formats supported by Castle Game Engine: glTF, X3D, VRML, MD3, OBJ, STL, Collada, Spine JSON, sprite sheets (and more). Supports viewing the scene in the "Examine" mode and walking in the virtual world with collision detection and gravity. Many 3D graphic effects are available like mirrors, shadows, shaders. We can also convert between some model formats. Free and open-source software. For Linux, Windows, macOS, Raspberry Pi and more.
:cge-social-share-image: view3dscene_outlines.png

== Introduction

// Viewer for link:creating_data_model_formats.php[all 3D and 2D model formats supported by the Castle Game Engine]:

// [role="compact"]
// - link:gltf[glTF]
// - link:vrml_x3d.php[X3D]
// - link:vrml_x3d.php[VRML]
// - link:spine[Spine JSON]
// - link:sprite_sheets[sprite sheets (in Castle Game Engine, Cocos2D and Starling XML formats)]
// - link:md3[MD3]
// - Wavefront OBJ
// - 3DS
// - STL
// - Collada
// - link:creating_data_model_formats.php[and more].

Viewer for link:creating_data_model_formats.php[3D and 2D model formats supported by the Castle Game Engine]: link:gltf[glTF], link:vrml_x3d.php[X3D], link:vrml_x3d.php[VRML], link:spine[Spine JSON], link:sprite_sheets[sprite sheets (in Castle Game Engine, Cocos2D and Starling XML formats)], link:md3[MD3], Wavefront OBJ, 3DS, STL, Collada, link:creating_data_model_formats.php[and more].

Examine or walk in the virtual world with collisions, gravity, animations, X3D sensors, shadows, mirrors, shaders and more. View it from multiple cameras at once. Take screenshots with various options (transparent background, cube maps).

You can also convert between model formats -- right now you can convert any model to X3D, we plan to add output to glTF soon as well. Together with this application, we also distribute link:castle-model-converter[castle-model-converter] command-line tool and you can also use our link:convert.php[online model converter]. They all use the same codebase and have the same features.

// view3dscene_outlines.png credits:
//
// The scene is by Luis Fernandez, downloaded from Sketchfab -
// https://sketchfab.com/3d-models/ftm-0970f30574d047b1976ba0aa6f2ef855 .
//
// Find more of his work on
// https://sketchfab.com/luyssport ,
// https://www.artstation.com/artwork/8zYgE ,
// https://www.artstation.com/artwork/oB5qz .

cgeimg::block[
  view3dscene_outlines.png|Castle Model Viewer (by Luis Fernandez\, https://sketchfab.com/3d-models/ftm-0970f30574d047b1976ba0aa6f2ef85 ),
  view3dscene_mousey.png|glTF scene with Mixamo animations,
  //view3dscene_steampunk_gltf.png|Steampunk glTF scene,
  //view3dscene_spine_ffd_animation.png|Spine Free-Form Deformation animated,
  view3dscene_spine_roseanne.png|Animated 2D Spine creature,
  //view3dscene_dungeon_multiple_views.png|Multiple views at the same 3D dungeon
]

== Download (version 4.3.0)

cge::download-application[
  4.3.0,
  snapshot,
  castle-engine,
  castle-model-viewer,
  castle-model-viewer,
    win64-x86_64;
    //win32-i386;
    linux-x86_64;
    linux-arm;
    linux-aarch64;
    darwin-x86_64
]

No installation is necessary. Just download and unpack these archives wherever you want, and run the `castle-model-viewer` program inside.

Platform-specific notes:

Linux, FreeBSD::
To hear 3D sound in X3D worlds, install also link:openal[OpenAL] and http://xiph.org/vorbis/[VorbisFile] libraries using your package manager.

macOS::
Since our application is not signed (for now), for the first run you have to run it by clicking with _right mouse button_, choosing _"Open"_ from the context menu, and then accepting to run an unsigned application. link:macos[More information about macOS support.]

////
Too much info:

Above recommends to download a snapshot, 4.3.0, automatically updated after every commit. The last https://github.com/castle-engine/castle-model-viewer/releases/tag/v4.2.0[stable release (version 4.2.0) is here] but it's quite old at this point.
////

NOTE: If you already have link:/[Castle Game Engine], then just run `castle-model-viewer` executable from the engine `bin` subdirectory. There's no need to download this separately.

NOTE: We also recommend to download link:demo_models.php[our collection of demo models]!

////
No longer actively tested, and was complicated to use, for now don't expose docs of it:

==== Optionally install GNOME (and other freedesktops) integration

If you use GNOME, MATE or other desktops following
<a href="http://freedesktop.org/">freedesktop.org</a> specifications,
you can optionally install also a desktop file to have application
available in your menu / dashboard, with a nice icon,
and associate it with all handled model types.

```bash
# Place castle-model-viewer on $PATH, for example like this:
sudo ln -s /usr/local/bin/castle-model-viewer castle-model-viewer

# Install menu items, icons, mime types:
cd desktop/
./install.sh
```

You may need to logout and login again to your GNOME/desktop
session for all programs to catch up (alternatively, you can do
`killall gnome-panel &amp;&amp; killall nautilus`
but this is obviously somewhat brutal method).

If you use GNOME file manager Nautilus there's
one more cool thing you can do: use
castle-model-viewer to *generate on-the-fly thumbnails of 3D models*
in the viewed directory. Assuming that castle-model-viewer is on the $PATH
and you already did previous `./install.sh`, you can run:

```bash
./install_thumbnailer.sh
```

<!--inside the `desktop` directory.-->
This will add the gconf keys to run thumbnailers on your 3D models.
Enter some directory with VRML / X3D / other 3D files,
and enjoy your thumbnails :)
_Beware that loading arbitrary 3D scene may take a lot of time,
so using the thumbnailer may consume a lot of memory and CPU power_.
But it seems that thumbnailer is nicely run with appropriate priority,
so it doesn't actually exhaust your cpu.
<!--
Although we try
to be fast, and some things are specially optimized for screenshot,
there are no guarantees. No engine can load arbitrary large
3D data without any noticeable resource use.
Nautilus should automatically terminate thumbnailer that
runs too long, so this is not critical problem. After all, reading large
movies or images has similar problems, but it works quite Ok, right?
(Actually, 3D data is much more difficult than reading just a few starting
seconds of a movie or a simple 2D image...) -->
And the author of this
text is using castle-model-viewer thumbnailer all the time, and it works
flawlessly :) So give it a try!
////

== Features

-

== Navigation with keys and mouse

=== Inspection (in all navigation modes)

<h3>All navigation modes:</h3>


- _Left mouse button_ is used for interacting
    with the X3D world. When the cursor turns into a grabbing hand
    you know you can click or drag on this 3D object. This uses
    the <?php echo a_href_page('X3D pointing-device sensors',
    'x3d_implementation_pointingdevicesensor'); ?>, and is fully configurable
    by 3D world authors.

- _Ctrl + Right mouse click_ picks a point,
    selecting a triangle and it's containing shape.
    The selected point / triangle / shape is then used for some
    operations, like _"Help -> Selected Object Information"_.


<h3>`Examine` navigation mode:</h3>

<table class="key_list">
  <tr><th colspan="2">Mouse:</th></tr>
  <tr><td>Rotate</td> <td>Left mouse dragging</td>                           </tr>
  <tr><td>Move</td>   <td>Middle mouse dragging (or Left mouse + Shift)</td> </tr>
  <tr><td>Zoom</td>   <td>Right mouse dragging (or Left mouse + Ctrl; or scroll wheel)</td>   </tr>

  <tr><th colspan="2">Keys:</th></tr>
  <tr><td>Rotate</td>        <td>Arrows</td>        </tr>
  <tr><td>Stop rotating</td> <td>Space</td>                             </tr>
  <tr><td>Move</td>          <td>Ctrl + Arrows</td> </tr>
  <tr><td>Scale</td>         <td>+ / -</td>                             </tr>
</table>

<h3>`Walk` / `Fly` navigation modes:</h3>

<img src="<?php echo page_requisite('images/original_size/navigation_controls.png'); ?>" alt="Walk/Fly navigation controls" class="media-responsive">

<table class="key_list">

  <tr><th colspan="2">Mouse:</th></tr>
  <tr><td>Forward / backward</td>    <td>Drag up / down with left mouse button</td></tr>
  <tr><td>Rotate</td>                <td>Drag left / right with left mouse button</td></tr>
  <tr><td>Move (strafe) left / right</td>     <td>Drag left / right with right mouse button</td></tr>
  <tr><td>Fly up / down</td>         <td>Drag up / down with right mouse button</td></tr>
  <tr><td>Raise / bow your head</td> <td>Mouse wheel</td></tr>

  <tr><th colspan="2">Keys:</th></tr>
  <tr><td>Forward / backward</td>                <td>W / S or Up / Down</td> </tr>
  <tr><td>Rotate</td>                            <td>Left / Right</td>       </tr>
  <tr><td>Move (strafe) left / right</td>        <td>A / D</td>              </tr>
  <tr><td>Jump / Crouch (or fly up / down)</td>  <td>Space / C</td>          </tr>
  <tr><td>Run</td>                               <td>Shift</td>              </tr>

  <tr><td colspan="2" style="text-align: left">*Turn _Mouse Look_ _On_
    (Ctrl+M) to look around by moving the mouse.*<br>
    It is usually comfortable to combine it with movement using AWSD keys.</td></tr>

  <tr><th colspan="2">Additional controls:</th></tr>

  <tr><td>Increase / decrease moving speed <!-- (has effect on keys
        Up / Down, Insert / Delete, Comma / Period) --></td> <td>+ / -</td></tr>
  <tr><td>Increase / decrease avatar height (preferred camera height above the ground)</td>
      <td>Insert / Delete</td></tr>
  <tr><td>Rotate _slower_ (useful to precisely set the camera)</td>
  <!-- when you want to set up camera
       very precisely, e.g. to use this camera setting to render a scene
       image using ray-tracer)-->
       <td>Ctrl + Left / Right</td> </tr>
</table>

We also support <a href="http://www.3dconnexion.com/">3D mouse devices</a>,
see <a href="http://www.youtube.com/watch?v=7tV9Qmjgx1U">the demo video about 3D mouse inside
castle-model-viewer</a>.

There are many more operations with key shortcuts, that work in all
navigation modes.
Just explore the _castle-model-viewer_ menu, and look at the key shortcuts.

== Command-line options

All options described below may be given in any order.
They all are optional.

=== Capturing screenshots and movies of 3D scenes and animations

Command-line options:

```bash
--screenshot  TIME  FILE-NAME
--screenshot-range  TIME-BEGIN  TIME-STEP  FRAMES-COUNT  FILE-NAME
```

These options allow you to capture a screenshot of the loaded scene.
They know about animations stored in 3D files, that's
why they take parameters describing the animation time to capture.
They are used to take screenshots in "batch mode".
(In interactive mode, you can use comfortable
menu items _Display -> Screenshot..._.)

_For a still 3D scene_, you usually just want to use the simpler
`--screenshot` option with `TIME`
set to anything (like zero) and not worry about anything else.

_For animations_, more possibilities are available. You can capture
any frames of the animation by using many `--screenshot` options.
You can also capture a movie by `--screenshot-range`
(as a series of images or, if
<a href="http://ffmpeg.mplayerhq.hu/">ffmpeg</a> is installed and
available on $PATH, even directly to a single movie file).
The biggest advantage of recording movie this way
is that the movie is guaranteed to be captured with stable number
of frames per second. This is different than using
some independent programs to capture OpenGL output, like
the fine <a href="https://github.com/nullkey/glc/wiki/">GLC</a>
(<a href="http://www.dedoimedo.com/computers/glc.html">nice GLC overview here</a>),
as real-time capture usually means that the program
runs slower, and often you loose movie quality.

You most definitely want to pass 3D model file to load
at command-line too, otherwise we'll just make a screenshot
of the default empty (black) scene. So to take a simple screenshot
of a scene, at it's default camera, just call

```bash
castle-model-viewer my_model.wrl --screenshot 0 output.png
```

*The detailed specification how screenshot options work*:


- First of all, after all the `--screenshot`
    and `--screenshot-range` options are processed,
    castle-model-viewer exits. So they work in "batch mode".

- The `--screenshot  TIME  FILE-NAME` simply saves
    the screenshot at time `TIME` to an image file `FILE-NAME`.

    Image format is guessed from `FILE-NAME` extension,
    see <?php echo a_href_page("castle-view-image", "castle-view-image") ?>
    for detailed list of image formats that we can handle.
    In short, we handle many popular image formats, like PNG and JPG,
    and these are what usually you want to use.

- The `--screenshot-range  TIME-BEGIN  TIME-STEP  FRAMES-COUNT  FILE-NAME`
    option takes `FRAMES-COUNT` screenshots. The first screenshot
    is at time `TIME-BEGIN`, second screenshot is at
    `TIME-BEGIN + TIME-STEP`, next one is at
    `TIME-BEGIN + 2 * TIME-STEP`... you get the idea.

    The `FILE-NAME` is either

- A movie filename. This must have a recognized movie MIME type
        (for local files, MIME type is just recognized from extension),
        this includes:


          <!-- Based on FfmpegVideoMimeType and URIMimeType implementations -->
- video/x-msvideo (.avi)
- video/mpeg (.mpeg, .mpg, .mpe)
- video/ogg (.ogv)
- video/quicktime (.mov)
- video/x-flv (.flv)
- application/x-shockwave-flash (.swf, .swfl)
- video/mp4 (.mp4)


        Please report if we miss some MIME type (and file extension)
        above, it's trivially easy to add all formats supported by ffmpeg.
        Availability of all these video formats may depend on installed ffmpeg
        codecs.

        <a href="http://ffmpeg.mplayerhq.hu/">ffmpeg</a>
        must be installed and available on $PATH for this to work.

- `FILE-NAME` may also be a pattern to generate
        names of images to save, like `@counter(4).png`.
        Details about using filename patterns are below (although you
        can probably already guess how it works :) ).


- All filenames for both screenshot options may specify a pattern
    instead of an actual filename. A pattern is simply a filename
    with macro `@counter(<padding>)` inside, when capturing `@counter(4)`
    will be replaced by the current screenshot number (padded with zeros to 4 digits).
    For capturing a series of images
    by `--screenshot-range` it's even required to specify
    a pattern with `@counter(<padding>)` (since capturing
    a number of images to a single image file has no point...). But
    it's also allowed in all other cases, even a movie filename
    may also be a pattern with `@counter(<padding>)` sequence,
    in case you want to use multiple `--screenshot-range`
    options to get multiple auto-named movies.

    The precise description how `@counter(<padding>)` works:
    All `--screenshot`
    and `--screenshot-range` options are processed in order.
    When a filename with pattern `@counter(<padding>)` is found, we replace all
    `@counter(<padding>)` occurrences in this filename with current counter value
    and increment the counter. For `--screenshot-range` with
    an image pattern, we do this for every single frame.
    The counter starts at 1.

    The parameter of `@counter(<padding>)`
    is the padding.
    For example, `@counter(1)` results in names like
    1, 2, ..., 9, 10... while `@counter(4)`
    results in names like 0001, 0002, ..., 0009, 0010, ...

- Add `--screenshot-transparent` option to have a transparent image,
    with transparent pixels in place where background color would be visible.


*Examples*:


- Simply get a single screenshot at given time:

```bash
castle-model-viewer my_model.wrl --screenshot 0 output.png
```
  </li>

- Simply get a movie of 2 seconds of animation.
    To calculate the numbers, note that we generate a movie with
    25 frames per second:

```bash
castle-model-viewer my_model.castle-anim-frames --screenshot-range 0 0.04 50 output.avi
```

    To get this as a sequence of images, just use `output@counter(4).png`
    instead of `output.avi`.
  </li>

- Example of more complicated use:

```bash
castle-model-viewer my_model.castle-anim-frames \
  --screenshot-range 0 0.04 50 output@counter(1).avi \
  --screenshot-range 10 0.04 50 output@counter(1).avi
```

    This generates two files: `output1.avi` with 2 second animation
    from 0.0 to 2.0 time, and `output2.avi` with 2 second animation
    from 10.0 to 12.0 time.
  </li>


*Hints:*


- To control the look of your screenshot, you often want to
    use VRML/X3D nodes like `Viewpoint`, `NavigationInfo`,
    `Background`. For example, take a look at
    <a href="https://github.com/castle-engine/castle-engine/blob/master/examples/fixed_camera_game/data/creatures/humanoid/screenshot_for_kambi_www/walk_1.wrl">this sample VRML file</a>.

    You can use `--viewpoint` command-line option (see below)
    to choose a different viewpoint for screenshot.
    </li>

- You can generate wanted `Viewpoint` node
    also by using castle-model-viewer, just set your camera (in interactive mode)
    the way you like and use menu item
    _Console -> Print Current Camera Node_.

- To control the size of resulting screenshot, just use
    `--geometry` command-line parameter
    (documented at <?php echo a_href_page("standard options
    understood by our OpenGL programs", "opengl_options") ?>).
    For example, take a look at
    <a href="https://github.com/castle-engine/castle-engine/blob/master/examples/fixed_camera_game/data/creatures/humanoid/screenshot_for_kambi_www/mk_screenshot_for_kambi_www.sh">mk_screenshot_for_kambi_www.sh</a>
    script.</li>

- To make your screenshot look best, you may want to use anti-aliasing,
    see `--anti-alias` option below.

    Take a look at the example how to make
    a screenshot from animation in
    <a href="https://github.com/castle-engine/castle-engine/tree/master/examples/fixed_camera_game/data/creatures/humanoid/screenshot_for_kambi_www">screenshot_for_kambi_www/</a>
    directory.</li>

- To *take a screenshot on a stripped-down Unix server*,
    please bear in mind that you need to install a graphic environment
    (that is, _X Windows_ and _OpenGL_) on your server. Even in batch mode,
    we still use OpenGL to grab the screenshot images
    (because using off-screen Mesa or our toy ray-tracer doesn't result
    in a really nice output; we really want OpenGL for all those GLSL effects
    and such).<!-- Which means that all that GUI stuff must be installed
    and working on your server.-->

    Normally, you also need _GTK_ libraries installed.
    However, you can compile from sources a version of castle-model-viewer that doesn't
    need these libraries, and directly accesses XWindows. It will miss
    a menu bar and some other nice GUI stuff, but that's not a problem if you only
    want to run it in batch mode for screenshots. To do this:


- <?php echo a_href_page('Download the sources of
        castle_game_engine and castle-model-viewer', 'all_programs_sources'); ?>.
        Unpack them, such that `castle_game_engine/` and `castle-model-viewer/`
        directories are siblings.
- In the terminal, do
```bash
export CASTLE_FPC_OPTIONS=-dCASTLE_WINDOW_XLIB
cd castle-model-viewer/
make
# and copy resulting castle-model-viewer binaries wherever you want
```


    On a server, you probably want to initialize taking a screenshot
    from a script, and your script isn't necessarily running within the X server.
    There are basically two solutions to this:
    <!--
    Note that the instructions below are not really specific to castle-model-viewer,
    the same concepts work with any X program.-->


- You can keep the X server running continuously,
        and keep your user logged in to the X server,
        and instruct castle-model-viewer to connect to your running X server.
        You do this by adding `--display=:0` option
        to the castle-model-viewer command-line (where `:0` is a common example; for details,
        see X manuals). Or you can set and export the `DISPLAY`
        environment variable, like `export DISPLAY=:0`.

        Unfortunately, this method sometimes doesn't work.
        On some systems, the castle-model-viewer will get an OpenGL context without
        a FrameBuffer (long story short, it means that you cannot capture
        the screen without actually seeing the window) and the resulting screenshot
        will be pure black (or garbage).
        On other systems, there is a problem with `glXChooseVisual`
        that may hang until you actually switch the current terminal
        to the X server.

- The other approach, more reliable in my experience
        (<?php echo a_href_page('please share your own experience
        on the forum', 'forum'); ?>) is to create new X server along with running
        castle-model-viewer, by using `xinit`. See `man xinit` for full
        details, in short use something like `xinit /full/path/to/castle-model-viewer my_model.x3d --screenshot 0 /tmp/output.png -- :1`. The important thing
        is to specify the full path of the castle-model-viewer binary (otherwise xinit
        only adds the arguments to some useless default xterm command-line). Adding `-- :1`
        at the end is only necessary if the default display (`:0`)
        may be already taken. `xinit` will create an X server
        with new display name, run castle-model-viewer, and exit immediately
        when castle-model-viewer exits (which should be as soon as a screenshot is done).

  </li>


== Converting model formats

In interactive mode, you can use castle-model-viewer menu items
_File -> Save As.._ to save (converting if needed) all 3D model
formats to X3D or VRML.


- Most formats *glTF 2.0, Collada, Spine JSON, 3DS, MD3, Wavefront OBJ, GEO, sprite sheets*
    are always converted *to X3D*.

- Formats *Inventor, VRML 1.0, VRML 2.0, X3D*
    can be saved back *to their original format*.
    In this case, castle-model-viewer is simply a "pretty-printer",
    exactly preserving all the information inside the file,
    only reformatting your content and removing the comments.

- *VRML 2.0* can be also converted *to X3D*.

    Conversion from VRML 2.0 to X3D is mostly trivial.
    There are some different keywords between VRML 2 and X3D,
    <!--(and only X3D has XML encoding),-->
    but generally X3D is simply a superset of everything that VRML 2 has.


You can also change the X3D encoding (from classic to XML or the other way
around). Changing encoding is a lossless operation,
as the same nodes graph can be exactly expressed in both encodings.

All these conversions can be also performed in batch mode
by command-line options described below.
Below we describe castle-model-viewer `--write` options.

See also <a href="#section_tovrmlx3d">tovrmlx3d</a> for alternative
approach to using command-line to convert models.

Examples:

```bash
# Convert glTF to X3D
castle-model-viewer input.gltf --write > output.x3dv

# Convert VRML 2.0 to X3D in classic encoding.
# You could add --encoding=classic, but it's not needed
# (it is the default anyway).
castle-model-viewer input.wrl --write --write-force-x3d > output.x3dv

# Convert VRML 2.0 to X3D in XML encoding.
# You could add --[write-]force-x3d, but it's not needed
# (it is implied by XML encoding anyway).
castle-model-viewer input.wrl --write --write-encoding=xml > output.x3d
```

Detailed docs of `castle-model-viewer` command-line options for converting:

<dl class="params_list">
  <dt>--write</dt>
  <dd>Do not open any window,
    only write the 3D model to the standard output and exit.
    Other `--write-xxx` options affect the generated output.
  </dd>

  <dt>--write-encoding classic|xml</dt>
  <dd>Choose encoding of the output file. By default, we use classic encoding.

    This option is meaningful only when `--write` option is also used.
  </dd>

  <dt>--write-force-x3d</dt>
  <dd>Force output to be an X3D file. This is really useful only
    when input model is VRML 2.0.

    Conversion to X3D is also automatically forced (no need to specify it explicitly
    by this option) if the chosen encoding is XML
    (that is, you used `--write-encoding=xml`).
    That's because only X3D supports XML encoding.

    Summarizing, you only need
    to use this option when you want to convert VRML 2 to X3D in classic encoding.

    When this is used on VRML 1.0 or Inventor models, we'll also
    convert parts of them to X3D. But the result is not really useful:
    you will get a file encoded using X3D keywords, but using
    VRML 1.0/Inventor node names. Real conversion from VRML 1.0/Inventor
    to X3D is not implemented (yet).

    This has no effect when used on models that are already X3D,
    or that can be only output as X3D (glTF, Collada, 3DS, etc.).

    This option is meaningful only when `--write` option is also used.
  </dd>

  <dt>--no-x3d-extensions</dt>
  <dd>Do not use Castle Game Engine extensions to X3D.

    For example we will not use `Tangent`, `flipVertically`,
    `gravityTransform` in the generated X3D when importing glTF.
    This makes X3D output valid (but a little less functional)
    and suitable for other X3D browsers.

    This option works at loading, and it is meaningful regardless
    of whether you used `--write`.
    Both `castle-model-viewer` and `tovrmlx3d` have this option.
  </dd>
</dl>

== Other options

<dl class="params_list">
  <dt>--hide-menu
  <dd>Hide the top menubar. Useful for full-screen presentations.

  <dt>--anti-alias AMOUNT</dt>
  <dd>Use full-screen anti-aliasing. You can also configure it from
    the menu _File -> Startup Preferences -> Anti aliasing_.
    Using this command-line option is mainly useful together with
    `--screenshot` option.

    Argument `AMOUNT`
    is an integer >= 0. Exact 0 means "no anti-aliasing", this is the default.
    Each successive integer generally makes method one step better.
    But also more demanding -- program may run slower
    (if your graphic card cannot provide context with sufficient number of samples
    needed for multi-sampling). See _Anti aliasing_ in interactive mode
    for the meaning of `AMOUNT` values.
    Currently, highest value is 4. So `AMOUNT` numbers above 4 are
    exactly the same as 4.

    There is no guarantee what specific values of `AMOUNT` exactly mean, as this depends on your graphic card capabilities.Just test each method and decide which looks best on your system and is fast enough.</dd>

  <dt>--viewpoint VIEWPOINT-NAME</dt>
  <dd>
  Specifies the name or a number of the viewpoint that will be bound (used) when the scene is loaded.

  By default, when this option is not used, we follow VRML/X3D standard and use the first viewpoint found in the file (but not in the inlined files). Of course you can always add nodes to the scene to trigger binding other viewpoints at the beginning (for example, add `ProximitySensor` with very large size that sends the `enter` event to the `set_bind` of chosen viewpoint). Or you can just exchange the order of viewpoint nodes. But sometimes it's not comfortable to edit the scene. Especially if you want to use the `--screenshot` options to capture a scene, it's useful to be able to choose a viewpoint by this command-line option.

  If you use this option: when the given `VIEWPOINT-NAME` is a number, it is treated as the index of viewpoint to be used (0 means the first viewpoint, 1 means the 2nd viewpoint and so on). Otherwise, `VIEWPOINT-NAME` is treated as a node name (node name is given by `"DEF Xxx"` in VRML/X3D, and it cannot start with a digit, so this is unambiguous).

  In interactive mode, remember that you don't need this option -- instead you can use comfortable _Navigation -> Viewpoints_ menu.
  </dd>
</dl>

All link:opengl_options.php[standard options understood by our GUI programs],
link:openal[standard options understood by our programs using audio]
and all link:common_options.php[standard options understood by all our programs]
are handled as well. Run with command-line option `--help` to see the full list.

== Dependencies

To play movies (in VRML/X3D `MovieTexture` nodes) and
to record movies (by `--screenshot-range` option)
you have to install <a href="http://ffmpeg.mplayerhq.hu/">ffmpeg</a>
and make sure it's available on $PATH.


- _Linux and FreeBSD_ users should find `ffmpeg` package
    suitable for their distribution.
- _Windows_ users can install
    <a href="http://ffmpeg.zeranoe.com/builds/">FFmpeg Windows Builds</a>.
    Remember to add bin/ directory to your $PATH after unpacking.
- _macOS_ users can install `ffmpeg` using
    <a href="https://brew.sh/">HomeBrew</a>,
    <a href="https://www.macports.org/">MacPorts</a> or
    <a href="http://www.finkproject.org/">Fink</a>.
    <!-- (<a href="http://pdb.finkproject.org/pdb/package.php/ffmpeg">in stable currently, although source-only</a>),-->
