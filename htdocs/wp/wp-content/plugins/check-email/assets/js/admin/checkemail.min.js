!function(e){e(document).ready(function(){e(".checkemail-hide").hide(),e("#check-email-enable-widget").parent().parent(),e("#check-email-enable-db-notifications").parent().parent(),e("#checkemail_autoheaders,#checkemail_customheaders").on("change",function(){e("#checkemail_autoheaders").is(":checked")&&(e("#customheaders").hide(),e("#autoheaders").show()),e("#checkemail_customheaders").is(":checked")&&(e("#autoheaders").hide(),e("#customheaders").show())});var c=e("#check-email-from_name").parent().parent(),i=e("#check-email-from_email").parent().parent();function a(c){e.ajax({async:!0,type:"GET",dataType:"html",url:c,success:function(){location.reload()}})}e("#check-email-overdide-from").is(":checked")||(c.hide(),i.hide()),e("#check-email-overdide-from").on("click",function(){e(this).is(":checked")?(c.show(),i.show()):(c.hide(),i.hide())}),e("#install_wp_smtp").on("click",c=>{c.preventDefault();let i=e(c.currentTarget),s=i.data("slug"),n=i.data("action"),o=i.data("activation_url");(i.attr("disabled",!0),"install"===n)?(i.addClass("updating-message"),wp.updates.installPlugin({slug:s,success(e){i.html("Activating plugin"),a(e.activateUrl)},error(e){i.removeClass("updating-message"),jQuery("#install_wp_smtp_info p").html(e.errorMessage),jQuery("#install_wp_smtp_info").addClass("notice-error notice")}})):"activate"===n&&a(o)}),e(document).on("click","#check-email-enable-smtp",function(c){e(this).is(":checked")?e("#check-email-smtp-form").show():e("#check-email-smtp-form").hide()}),e(document).on("click","#check_mail_resend_btn",function(e){t=jQuery(this),jQuery(".cm_js_error").html(""),jQuery(".cm_js_success").html("");var c=jQuery("#cm_ajax_url").val(),i=jQuery("#check-mail-resend-form").serialize();jQuery.ajax({url:c,method:"post",dataType:"json",data:i,beforeSend:function(e){t.html('Resend<span class="spinner is-active"></span>'),t.prop("disabled",!0)},success:function(e){200!=e.status?jQuery(".cm_js_error").html(e.message):(jQuery(".cm_js_success").html(e.message),location.reload())},complete:function(e){t.html("Resend"),t.prop("disabled",!1)}})}),e(".check-mail-import-plugins").on("click",function(c){c.preventDefault(),jQuery(".cm_js_error").html(""),jQuery(".cm_js_success").html("");var i,a,s,n=e(this),o=e(this).attr("data-id"),l=jQuery("#cm_ajax_url").attr("data");data={action:"check_mail_import_plugin_data",plugin_name:o,ck_mail_security_nonce:jQuery("#cm_security_nonce").attr("data")},i=l,a=data,s=n,jQuery.ajax({url:i,method:"post",dataType:"json",data:a,beforeSend:function(e){s.html('Import<span class="spinner is-active"></span>'),s.prop("disabled",!0)},success:function(e){console.log(e),200!=e.status?s.parents(".cm_js_migration").find(".cm_js_error").html(e.message):s.parents(".cm_js_migration").find(".cm_js_success").html(e.message)},complete:function(e){s.html("Import"),s.prop("disabled",!1)}})});var s=e(".check_email_forward_to"),n=e(".check_email_forward_cc"),o=e(".check_email_forward_bcc");e("#check-email-forward_email").is(":checked")||(s.hide(),n.hide(),o.hide()),e("#check-email-forward_email").on("click",function(){e(this).is(":checked")?(s.show(),n.show(),o.show()):(s.hide(),n.hide(),o.hide())});var l=e(".check_email_retention_amount");e("#check-email-is_retention_amount_enable").is(":checked")||l.hide(),e("#check-email-is_retention_amount_enable").on("click",function(){e(this).is(":checked")?l.show():l.hide()});var h=e(".check_email_log_retention_period"),r=e(".check_email_log_retention_period_in_days");e("#check-email-is_retention_period_enable").is(":checked")||(h.hide(),r.hide()),e("#check-email-is_retention_period_enable").on("click",function(){e(this).is(":checked")?(h.show(),e("#check-email-log_retention_period").trigger("change")):(h.hide(),r.hide())}),"custom_in_days"!=e("#check-email-log_retention_period").val()&&r.hide(),e("#check-email-log_retention_period").on("change",function(){"custom_in_days"==e(this).val()?r.show():r.hide()}),e(".check_main_js_display_checkbox").on("click",function(){e(this).is(":checked")?e(this).next(".check_mail_js_hidden_display").val(1):e(this).next(".check_mail_js_hidden_display").val(0)})})}(jQuery);